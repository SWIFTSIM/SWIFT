# Intro
This example is a non cosmological homogeneous box with gas. A gas particle is initialized with a non null matallicity, while the other particles are metal-free. This is an hydro-only example *This example is used to test _istotropic_ metal diffusion with the GEAR_MF_DIFFUSION chemistry model.*

This example is a modified version of the HomogeneousBox in SWIFT that allows to add metallicy to a gas particle in the box.

The default level is 5 (N_particle = 2^(3*level)). It is quick. If you want to try the example with higher levels, we recommend using HPC facilities.


# Configure
To run this example with GEAR_MF_DIFFUSION model, configure with:

./configure --with-chemistry=GEAR-MF-DIFFUSION_10 --with-cooling=grackle_0 --with-stars=GEAR --with-star-formation=GEAR --with-feedback=GEAR --with-sink=GEAR --with-kernel=wendland-C2 --with-grackle=$GRACKLE_ROOT

If you want to test the GEAR smoothed metallicities model, configure with:

./configure --disable-mpi --with-chemistry=GEAR_10 --with-cooling=grackle_0 --with-stars=GEAR --with-star-formation=GEAR --with-feedback=GEAR --with-sink=GEAR --with-kernel=wendland-C2 --with-grackle=$GRACKLE_ROOT

and then

make -j

# ICs
The run.sh script calls `makeIC.py' script with default values. You can experiment by changing the ICs. Run `python3 makeIC.py --help` to get the list of parameters.

Notice that changing the `jeans_length` affects the velocity of the gas particles, their smoothing length and thus the chemistry diffusion. Larger `jeans_length` gives lower gas velocities, quicker diffusion and more isotropic diffusion.

# Run
Type run.sh and let's go!

You can provide parameters to the running scripts, have a look inside them.
