# Intro
This example is a non cosmological hydro-only homogeneous box with gas. A gas particle at the center of the box is initialized with non null metallicity, while the other particles are metal-free. *This example is used to test _constant istotropic_ metal diffusion with the GEAR diffusion chemistry models.*

MODIFY HERE

This example can be run in 1D, 2D or 3D.
---

The default level is 5 (N_particle = 2^(DIMENSION*level)). It is quick. If you want to try the example with higher levels, we recommend using HPC facilities.

# Configure
To run this example with GEAR model,

```
./configure --with-chemistry=X --with-cooling=grackle_0 --with-stars=GEAR --with-star-formation=GEAR --with-feedback=GEAR --with-kernel=wendland-C2 --with-hydro-dimension=DIMENSION --with-grackle=path/to/grackle
```

with
- X=`GEAR_10` for smoothed metallicity scheme,
- X=`GEAR-MF-DIFFUSION_10` for the parabolic diffusion scheme,
- X=`GEAR-MF-HYPERBOLIC-DIFFUSION_10` for the hyperbolic diffusion scheme.
- DIMENSION=1,2 or 3 is the dimensionality of the problem.

and then

make -j

# ICs
The run.sh script calls `makeIC.py' script with default values. You can experiment by changing the ICs. Run `python3 makeIC.py --help` to get the list of parameters.

# Run
Type
```
dimension=DIMENSION ./run.sh
```

and let's go!

You can provide parameters to the running scripts, have a look inside them.

#Debugging notes
You can track the metal mass injected by feedback and diffused by the chemitry module by adding `CFLAGS="-DSWIFT_CHEMISTRY_DEBUG_CHECKS" ./configure [other parameters]`. This will also output the total diffused metal mass by each particles over the simulation. If you sum these values, you can track metal mass conservation. Notice that star formation removes metal.
