MetaData:
  run_name:   BalsaraKim

# Define the system of units to use internally. 
InternalUnitSystem:
  UnitMass_in_cgs:     6.757e41  # g
  UnitLength_in_cgs:   3.086e21  # cm
  UnitVelocity_in_cgs: 38.23e5   # Centimeters per second
  UnitCurrent_in_cgs:  1.e10     # Amperes
  UnitTemp_in_cgs:     1         # Kelvin

# Parameters governing the time integration
TimeIntegration:
  time_begin: 0.      # The starting time of the simulation (in internal units).
  time_end:   3.5e-2  # The end time of the simulation (in internal units).
  dt_min:     1.e-18  # The minimal time-step size of the simulation (in internal units).
  dt_max:     2.e-4   # The maximal time-step size of the simulation (in internal units).

# Parameters for MHD schemes
MHD:
  monopole_subtraction:   1.0
  artificial_diffusion:   0.1
  hyperbolic_dedner:      1.0 
  hyperbolic_dedner_divv: 0.5
  parabolic_dedner:       1.0
  resistive_eta:          0.0

BalsaraKimForcing:
  coords:        ./injection_coords.txt  # File containing times and locations of energy injections
  inj_model:     set_u            # what injection model to use options: set_u, set_const_u, set_v, set_const_v
  r_inj:         5.               # (opt) Injection radius in parsec (comoving), default: 5 pc
  E_inj:         1.e53            # (opt) Injection energy in erg (physical), default: 1.e51 erg
  u_inj:         3.0298e15        # (opt) if inj_model=set_const_u, what specific energy to inject in the particles (physical), default: 2.8263e15 (cm/s)**2
  v_inj:         500              # (opt) if inj_model=set_const_v, the injection velocity in km/s (physical), default: 200 km/s

# Parameters governing the snapshots
Snapshots:
  subdir:              snapshots
  basename:            BK # Common part of the name of output files
  time_first:          0.
  delta_time:          6.e-4

# Parameters governing the conserved quantities statistics
Statistics:
  delta_time:          1e-5 # Time between statistics output
  time_first:          0.   # Time of first statistics output

# Parameters for the hydrodynamics scheme
SPH:
  resolution_eta:        1.595   # Target smoothing length in units of the mean inter-particle separation (1.2348 == 48Ngbs with the cubic spline kernel).
  CFL_condition:         0.02    # Courant-Friedrich-Levy condition for time integration.
  minimal_temperature:   1.e2
  max_ghost_iterations:  1000
  h_max:                 0.02     # Maximum smoothing length. Since the density in the post-shock region becomes very low, we need to make sure that this does not exceed 1/3 of the periodic box (including kernel gamma ~ 2)

# Parameters related to the initial conditions
InitialConditions:
  file_name:  ./BalsaraKim.hdf5          # The file to read
  periodic:   1

EAGLECooling:
  H_reion_z:             11.5
  H_reion_eV_p_H:        2.0
  He_reion_z_centre:     3.5
  He_reion_z_sigma:      0.5
  He_reion_eV_p_H:       2.0
  dir_name: ./coolingtables/

# mass fractions taken for WNM from (Sembach+, 2000) and (Price+, 2018)
EAGLEChemistry:  
  init_abundance_metal:        3.49e-3  # Mass fraction in *all* metals
  init_abundance_Hydrogen:     0.7118   # Mass fraction in Hydrogen
  init_abundance_Helium:       0.2847   # Mass fraction in Helium
  init_abundance_Carbon:       1.4e-4   # Mass fraction in Carbon
  init_abundance_Nitrogen:     7.56e-4  # Mass fraction in Nitrogen
  init_abundance_Oxygen:       3.2e-4   # Mass fraction in Oxygen
  init_abundance_Neon:         1.673e-3 # Mass fraction in Neon
  init_abundance_Magnesium:    2.469e-4 # Mass fraction in Magnesium
  init_abundance_Silicon:      1.5e-5   # Mass fraction in Silicon
  init_abundance_Iron:         6.465e-5 # Mass fraction in Iron

Scheduler:
  tasks_per_cell: 100
