IsolatedGalaxy with magnetic fields
-----------------------------------

Compilation
-----------
for runs with EAGLE cooling+chemistry+entropy floor+star formation
./configure --with-spmhd=direct-induction --with-cooling=EAGLE --with-chemistry=EAGLE --with-entropy-floor=EAGLE --with-ext-potential=hernquist --with-kernel=quintic-spline --disable-hand-vec --disable-compiler-warnings --disable-doxygen-doc --with-stars=EAGLE --with-star-formation=EAGLE

for runs with EAGLE cooling+chemistry+entropy floor+star formation + feedback
./configure --with-spmhd=direct-induction --with-cooling=EAGLE --with-chemistry=EAGLE --with-entropy-floor=EAGLE --with-ext-potential=hernquist --with-kernel=quintic-spline --disable-hand-vec --disable-compiler-warnings --disable-doxygen-doc --with-stars=EAGLE --with-star-formation=EAGLE --with-tracers=EAGLE --with-feedback=EAGLE


Adding magnetic fields
----------------------
python3 make_IC.py fid.hdf5 fid_B.hdf5


Snapshot slices
---------------
The plotSolutionReference.py plotting script draws slices of density, magnetic feild, divergence errors and plasma beta in z=0 and y=0 planes. Parameter Lslice_kPc sets plotting area around the simulation center.

Correlation plots
-----------------
plotCorrelation.py script plots correlation space or histograms for the selected variables. to_plot variable defines the regime.

Energy time evolution
---------------------
To produce Energy vs simulation time plot, use statistics_reader.py scirpt


README for IsolatedGalaxy_starformation example ( without B )
-------------------------------------------------------------
Isolated Galaxy generated by the MakeNewDisk code from Springel, Di Matteo &
Hernquist (2005). The done analysis in this example is similar to the work done
by Schaye and Dalla Vecchia (2008) (After this SD08). The default example runs
the simulation for a galaxy with similar mass of their fiducial model and should
produce plots similar to their middle pannel Figure 4. The code needs to be
configured to run with the Hernquist external potential as well as the cooling &
star-formation model of interest. Using the EAGLE model allows to reproduce the
results of SD08.

The code can also be run for other situations to check to verify the law using
different parameters, changes that were done in SD08 are given by:
 - gas fraction of 10% instead of 30%, change the IC to f10.hdf5, see getIC.sh,
   should reproduce something similar to Figure 4 left hand pannel. Requires 
   change of fg=.1
 - gas fraction of 90% instead of 30%, change the IC to f90.hdf5, see getIC.sh,
   should reproduce something similar to Figure 4 right hand pannel. Requires 
   change of fg=.9
 - Changing the effective equation of state to adiabatic, Jeans_gamma_effective 
   = 1.666667. Should result in something similar to Figure 5 left hand pannel
   of SD08.
 - Changing the effective equation of state to isothermal, Jeans_gamma_effective 
   = 1.0000. Should result in something similar to Figure 5 middle hand pannel
   of SD08. 
 - Changing the slope of the Kennicutt-Schmidt law to 1.7, SchmidtLawExponent = 
   1.7, this should result in a plot similar to Figure 6 of SD08.
 - Increasing the density threshold by a factor of 10. thresh_norm_HpCM3 = 1.0,
   should reproduce plot similar to Figure 7.
 - Decreasing the density threshold by a factor of 10. thresh_norm_HpCM3 = 0.01,
   should reproduce plot similar to Figure 7.
 - Running with a lower resultion of a factor 8, change the IC to lowres8.hdf5,
   see getIC.sh. 
 - Running with a lower resultion of a factor 64, change the IC to lowres64.hdf5,
   see getIC.sh. 
 - Running with a lower resultion of a factor 512, change the IC to lowres512.hdf5,
   see getIC.sh. 

Other options to verify the correctness of the code is by chaning the following
parameters:
  - Changing the normalization to A/2 or 2A.
  - Running the code with zero metallicity.
  - Running the code with a factor 6 higher resolution idealized disks, use 
    highres6.hdf5, see getIC.sh.
  - Running with different SPH schemes like Anarchy-PU.
